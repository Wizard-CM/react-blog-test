import{e as j,r as b,g as w,f as N,j as e,l as r,B as S,L as v,q as d,t as y,T as q}from"./index-CoApRtb5.js";import{S as E}from"./Sub_Loader-B9AjCsNp.js";function L(){var i,o,m;const u=j(),[l,x]=b.useState(""),p=w(),{register:a,handleSubmit:h,formState:{errors:s,isSubmitting:n}}=N(),g=async f=>{x("");const t=await d.createAccount(f);if(console.log(t),t!=null&&t.$id){const c=await d.getCurrentUser();c&&p(y(c)),u("/"),q({message:"User Signup Successfull"})}else console.log(session),toast.error("Invalid User Credentials !!",{position:"top-center",autoClose:1500,pauseOnHover:!0,transition:Bounce,theme:"light"})};return e.jsx("div",{className:"flex items-center justify-center flex-col   my-10",children:e.jsxs("div",{className:"w-[400px] p-10 shadow-2xl rounded-md",children:[e.jsx("h2",{className:"text-4xl font-serif mb-5 w-full text-center",children:"Sign up"}),l&&e.jsx("p",{className:"text-red-600 text-center",children:l}),e.jsx("form",{onSubmit:h(g),className:"w-full max-w-lg rounded-xl border-[1px] border-white",children:e.jsxs("div",{className:"",children:[e.jsx(r,{label:"Full Name: ",placeholder:"Enter your full name",...a("name",{required:"Full Name is required"})}),s.name&&e.jsx("p",{className:"text-red-600 text-[0.8rem] m-0 mb-4",role:"alert",children:(i=s.name)==null?void 0:i.message}),e.jsx(r,{label:"Email: ",placeholder:"Enter your email",type:"email",...a("email",{required:"Email is required"})}),s.email&&e.jsx("p",{className:"text-red-600 text-[0.8rem] m-0 mb-4",role:"alert",children:(o=s.email)==null?void 0:o.message}),e.jsx(r,{label:"Password: ",type:"password",...a("password",{minLength:{value:8,message:"Password must contain atleast 8 chars"},maxLength:{value:64,message:"Password cannot exceed 64 chars"},required:"Password is required"})}),s.password&&e.jsx("p",{className:"text-red-600 text-[0.8rem] m-0 mb-4",role:"alert",children:(m=s.password)==null?void 0:m.message}),n?e.jsx(E,{}):e.jsx(S,{disabled:n,className:"mt-5 w-full text-center",type:"submit",children:"Sign Up"})]})}),e.jsxs("p",{className:"mt-2 text-center text-base text-black/60",children:["Already have an account?Â ",e.jsx(v,{to:"/login",className:"font-medium text-primary transition-all duration-200 hover:underline",children:"Sign In"})]})]})})}const U=()=>e.jsx(e.Fragment,{children:e.jsx(L,{})});export{U as default};
